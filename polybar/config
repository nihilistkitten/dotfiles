[colors]
; __cac:start
background = #991a1b26
foreground = #a9b1d6
dim_black = #06080a
dim_red = #e06c75
dim_green = #98c379
dim_yellow = #d19a66
dim_blue = #7aa2f7
dim_magenta = #ad8ee6
dim_cyan = #56bdb8
dim_white = #abb2bf
bright_black = #24283b
bright_red = #f7768e
bright_green = #9ece6a
bright_yellow = #e0af68
bright_blue = #61afef
bright_magenta = #f6bdff
bright_cyan = #50c3bd
bright_white = #ffffff
; __cac:end

[bar/time]
monitor = ${env:MONITOR:}
modules-left = workspaces battery cpu gpu network
modules-right = music brightness audio date time
bottom = true
module-margin = 2

font-0 = MesloLGS Nerd Font

; spaces at beginning and end of bar
padding = 2

offset-y = 5
offset-x = 10

; this makes the width 100% - 20px
width = 100%:-20
height = 40

background = ${colors.background}
foreground = ${colors.foreground}

[module/workspaces]
type = internal/xworkspaces
label-active-foreground = ${colors.bright_magenta}
label-empty =

[module/battery]
type = internal/battery
format-full = "<ramp-capacity> <label-full>"
format-charging = "<ramp-capacity> <label-charging>"
format-discharging = "<ramp-capacity> <label-discharging>"
ramp-capacity-0 = " "
ramp-capacity-1 = " "
ramp-capacity-2 = " "
ramp-capacity-3 = " "
ramp-capacity-4 = " "
ramp-capacity-0-foreground = ${colors.bright_red}
ramp-capacity-1-foreground = ${colors.dim_yellow}
ramp-capacity-2-foreground = ${colors.bright_yellow}
ramp-capacity-3-foreground = ${colors.dim_green}
ramp-capacity-4-foreground = ${colors.bright_green}

[module/cpu]
type = internal/cpu
format = " <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.bright_yellow}

[module/gpu]
type = custom/script
format = " <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.dim_magenta}

exec = nvidia-smi | grep Default | sed 's:.*\(\w%\).*:\1:'

[module/network]
type = internal/network
interface = wlp0s20f3
label-connected = %essid%
format-connected = "<ramp-signal> <label-connected>"
label-connected-foreground = ${colors.foreground}
format-connected-foreground = ${colors.bright_blue}

ramp-signal-0 = "直"
ramp-signal-3 = " "
format-disconnected = "睊"
format-disconnected-foreground = ${colors.bright_red}

;; middle split

[module/music]
type = custom/script
format = "ﱘ <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.bright_magenta}
exec = "current-track"

[module/brightness]
type = internal/backlight
card = intel_backlight
format = " <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.bright_yellow}

[module/audio]
type = internal/pulseaudio
format-volume = <ramp-volume> <label-volume>
label-muted   = 婢
label-muted-foreground = ${colors.dim_red}
ramp-volume-0 = 
ramp-volume-1 = 墳
ramp-volume-2 = 
ramp-volume-0-foreground = ${colors.bright_blue}
ramp-volume-1-foreground = ${colors.bright_blue}
ramp-volume-2-foreground = ${colors.bright_blue}

[module/date]
type = internal/date
date = %a %Y-%m-%d%
label = %date%
format = " <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.dim_magenta}

[module/time]
type = internal/date
time = %H:%M:%S
label = %time%
format = " <label>"
label-foreground = ${colors.foreground}
format-foreground = ${colors.bright_magenta}


; I can't quite get this to work in a satisfying way, unfortunately
[module/cava]
type = custom/script
tail = true
exec = polybar-cava
format-foreground = ${colors.bright_blue}

; vim:ft=dosini
