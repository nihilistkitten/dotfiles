#!/usr/bin/env bash

if [[ ! -x $(command -v tmux) ]]
then
        echo "No tmux installation found!" >/dev/stderr
        exit
fi

if [[ $# -eq 0 ]]
then
        # open a new tmux window if not in tmux, else echo an error message
        if [[ -z "$TMUX" ]]
        then
                tmux has-session -t _default || tmux new-session -s _default\; split-window -h\; resize-pane -R 20\; split-window -v\; resize-pane -D 20
                tmux a -t _default
        else
                echo "Unable to enter tmux -- we're already there!" >/dev/stderr
                exit
        fi
else
        tmux "$@"
fi
